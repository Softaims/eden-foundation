<div class="main-layout">
  <!-- Mobile posters section -->
  <section class="slick-wrapper-mobile">
    <div class="relative slick-posters-mobile">
      <div class="relative poster-3">
      </div>
      <div class="relative poster-1">
      </div>
      <div class="relative poster-4">
      </div>
      <div class="relative poster-2">
      </div>
    </div>
    <div class="container p-3 mx-auto">
      <a href="https://www.theedenfoundation.org.uk/Donate/Index"
        class="flex items-center justify-center gap-3 px-6 py-4 mt-2 text-white rounded poster-btn bg-primary"
        data-turbo="false">
        <span class="text-white">Donate now</span>
        <%= image_tag('arrow-right.svg') %></i>
      </a>
    </div>
  </section>

  <!-- Desktop posters section -->
  <section class="relative slick-posters-desktop">
    <a href="https://www.theedenfoundation.org.uk/Donate/Index">
      <div class="poster-1-desktop">
      </div>
    </a>
    <a href="https://www.theedenfoundation.org.uk/Donate/Index">
      <div class="poster-2-desktop">
      </div>
    </a>
    <a href="https://www.theedenfoundation.org.uk/Donate/Index">
      <div class="poster-3-desktop">
      </div>
    </a>
    <a href="https://www.theedenfoundation.org.uk/Donate/Index">
      <div class="poster-4-desktop">
      </div>
    </a>
    <a href="https://honeybeenursery.org.uk">
      <div class="relative poster-5-desktop">
      </div>
    </a>
    <a href="https://www.cleverbee.uk">
      <div class="relative poster-6-desktop">
      </div>
    </a>
  </section>

  <!-- namaz calender section on mobile -->
  <div class="container p-3 mx-auto md:hidden">
    <button class="w-full px-6 py-4 mt-1 text-white border-none rounded outline-none show-salahtimetable-btn bg-primary"
      data-turbo="false">
      Click to see Salah Timetable
    </button>
  </div>
  <section id="prayer-timetable-mobile" class="mt-6 namaz-calender-section md:mt-20 lg:mt-24 namaz md:hidden">
    <div class="container p-3 mx-auto md:p-0">
      <div class="md:flex justify-between md:w-[1000px] md-flex mx-auto mt-4">
        <h2
          class="md:w-[300px] text-xl md:text-2xl lg:text-3xl text-black text-opacity-80 font-bold text-center md:text-left">
          TEF Daily Prayer Times</h2>
      </div>

      <div class="gap-8 mt-5 md:flex md:mt-16 lg:mt-20">
        <div class="md:w-[1000px] md-flex mx-auto">
          <h6 class="font-bold text-center text-black md:text-lg text-opacity-70 md:text-left">
            <%= Time.now.strftime("%A %B %d, %Y") %>
              <span class="text-primary">
                (<%= @hijri_current_date %>)
              </span>
          </h6>
          <div class="mt-5">
            <div class="p-4 border rounded md:p-6">
              <div class="p-4 rounded bg-primary">
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-3">
                    <div class="flex items-center justify-center w-5 h-5 bg-white rounded-full">
                      <span class="inline-block w-2 h-2 rounded-full bg-primary"></span>
                    </div>
                    <p class="font-semibold text-white md:text-lg">Suhur End</p>
                  </div>
                  <p class="font-semibold text-white md:text-lg">
                    <%= @suhur_end %>
                  </p>
                </div>
              </div>
              <div class="p-4 mt-4 rounded bg-primary">
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-3">
                    <div class="flex items-center justify-center w-5 h-5 bg-white rounded-full">
                      <span class="inline-block w-2 h-2 rounded-full bg-primary"></span>
                    </div>
                    <p class="font-semibold text-white md:text-lg">Sun Rise</p>
                  </div>
                  <p class="font-semibold text-white md:text-lg">
                    <%= @sunrise %>
                  </p>
                </div>
              </div>
            </div>
          </div>

          <div class="p-4 mt-5 border rounded md:p-6">
            <div
              class="flex items-center justify-between p-2 font-semibold border rounded cursor-pointer salah-heading text-primary md:px-6">
              <p class="text-sm font-bold text-start">SALAH</p>
              <p class="text-sm font-bold text-center">START</p>
              <div class="text-center">
                <p class="text-xs">LINDLEY</p>
                <p class="text-sm font-bold">JAMAAT</p>
              </div>
              <div class="text-center">
                <p class="text-xs">HIGHFIELDS</p>
                <p class="text-sm font-bold">JAMAAT</p>
              </div>
            </div>

            <div class="namaz-timings-wrapper">
              <div
                class="grid grid-cols-4 p-4 mt-4 text-sm font-semibold border rounded cursor-pointer salah-calander-row md:p-6 md:text-base">
                <div class="flex items-center salah-type">
                  <p class="text-black text-opacity-80">
                  <h2>Fajr</h2>
                  </p>
                </div>
                <div class="starting-time">
                  <p class="text-black text-opacity-80">
                    <%= @fajr_start %>
                  </p>
                </div>
                <div class="ending-time">
                  <p class="pr-8 text-center text-black text-opacity-80">
                    <%= @fajr_end %>
                  </p>
                </div>
                <div class="ending-time">
                  <p class="pr-3 text-black text-opacity-80 text-end">
                    <%= @fajr_end %>
                  </p>
                </div>
              </div>
              <div
                class="grid grid-cols-4 p-4 mt-4 text-sm font-semibold border rounded cursor-pointer salah-calander-row md:p-6 md:text-base">
                <div class="flex items-center salah-type">
                  <p class="text-black text-opacity-80">
                  <h2>Zuhr</h2>
                  </p>
                </div>
                <div class="starting-time">
                  <p class="text-black text-opacity-80">
                    <%= @zuhr_start %>
                  </p>
                </div>
                <div class="text-right ending-time">
                  <p class="pr-8 text-center text-black text-opacity-80">
                    13:30
                  </p>
                </div>
                <div class="ending-time">
                  <p class="pr-3 text-black text-opacity-80 text-end">
                    13:30
                  </p>
                </div>
              </div>
              <div
                class="grid grid-cols-4 p-4 mt-4 text-sm font-semibold border rounded cursor-pointer salah-calander-row md:p-6 md:text-base">
                <div class="flex items-center salah-type">
                  <p class="text-black text-opacity-80">
                  <h2>Asr</h2>
                  </p>
                </div>
                <div class="starting-time">
                  <p class="text-black text-opacity-80">
                    <%= @asr_start %>
                  </p>
                </div>
                <div class="text-right ending-time">
                  <p class="pr-8 text-center text-black text-opacity-80">
                    <%= @asr_end %>
                  </p>
                </div>
                <div class="ending-time">
                  <p class="pr-3 text-black text-opacity-80 text-end">
                    <%= @asr_end %>
                  </p>
                </div>
              </div>
              <div
                class="grid grid-cols-4 p-4 mt-4 text-sm font-semibold border rounded cursor-pointer salah-calander-row md:p-6 md:text-base">
                <div class="flex items-center salah-type">
                  <p class="text-black text-opacity-80">
                  <h2>Maghrib</h2>
                  </p>
                </div>
                <div class="starting-time">
                  <p class="text-black text-opacity-80">
                    <%= @maghrib_start %>
                  </p>
                </div>
                <div class="text-right ending-time">
                  <p class="pr-8 text-center text-black text-opacity-80">
                    <%= @maghrib_end %>
                  </p>
                </div>
                <div class="ending-time">
                  <p class="pr-3 text-black text-opacity-80 text-end">
                    <%= @maghrib_end %>
                  </p>
                </div>
              </div>
              <div
                class="grid grid-cols-4 p-4 mt-4 text-sm font-semibold border rounded cursor-pointer salah-calander-row md:p-6 md:text-base">
                <div class="flex items-center salah-type">
                  <p class="text-black text-opacity-80">
                  <h2>Isha</h2>
                  </p>
                </div>
                <div class="starting-time">
                  <p class="text-black text-opacity-80">
                    <%= @isha_start %>
                  </p>
                </div>
                <div class="text-right ending-time">
                  <p class="pr-8 text-center text-black text-opacity-80">
                    <%= @isha_end %>
                  </p>
                </div>
                <div class="ending-time">
                  <p class="pr-3 text-black text-opacity-80 text-end">
                    <%= @isha_end %>
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="p-4 mt-8 border rounded download">
        <a data-turbo="false" href="<%= prayer_timetable_path %>"
          class="inline-block w-full px-8 py-4 text-white rounded bg-primary" download>
          Download Ramadhan Timetable
        </a>
      </div>
    </div>
  </section>

  <!-- symbols cards section -->
  <section class="mt-8 symbols-section md:mt-16 lg:mt-24" id="about-us">
    <div class="container p-3 mx-auto md:p-0">
      <div class="text-center main-heading md:w-1/2 md:mx-auto">
        <h2 class="text-xl font-bold text-black md:text-2xl lg:text-3xl text-opacity-80">About Us</h2>
        <p class="mt-4 text-sm text-black md:text-base text-opacity-70">We are a registered charity established by the
          Muslim community of Huddersfield. Our Vision is to promote sound Islamic faith & practice to unlock our
          Human potential through provision of education & welfare initiatives.</p>
      </div>
      <!-- Mobile and tablet view -->
      <div class="symbols-mobile-section">
        <div class="grid grid-cols-1 gap-5 mt-10 grid-wrapper md:grid-cols-2 lg:grid-cols-3 md:gap-10 md:mt-20">
          <% symbols_data.each do |symbol| %>
            <div
              class="card symbol-card p-6 text-center flex justify-center items-center flex-col gap-5 bg-[#F0F4F7] rounded cursor-pointer md:hover:bg-primary md:hover:scale-105 hover:text-white transition-all">
              <div class="w-16 h-16 img-wrapper">
                <%= image_tag(symbol[:icon], alt: symbol[:alt], loading: "lazy" , class: "h-full w-full object-contain"
                  ) %>
              </div>
              <h4 class="text-lg font-semibold text-black text-opacity-80">
                <%= symbol[:subHeading] %>
              </h4>
              <p class="text-sm text-black text-opacity-70 md:text-base">
                <%= symbol[:description] %>
              </p>
            </div>
            <% end %>
        </div>
      </div>
      <!-- Desktop view -->
      <div class="symbols-desktop-section">
        <div class="grid grid-cols-1 gap-5 mt-10 grid-wrapper md:grid-cols-2 lg:grid-cols-3 md:gap-10 md:mt-20">
          <% symbols_data.take(3).each do |symbol| %>
            <div
              class="card symbol-card p-6 text-center flex justify-center items-center flex-col gap-5 bg-[#F0F4F7] rounded cursor-pointer md:hover:bg-primary md:hover:scale-105 hover:text-white transition-all">
              <div class="w-16 h-16 img-wrapper">
                <%= image_tag(symbol[:icon], alt: symbol[:alt], loading: "lazy" , class: "h-full w-full object-contain"
                  ) %>
              </div>
              <h4 class="text-lg font-semibold text-black text-opacity-80">
                <%= symbol[:subHeading] %>
              </h4>
              <p class="text-sm text-black text-opacity-70 md:text-base">
                <%= symbol[:description] %>
              </p>
            </div>
            <% end %>
        </div>
        <div class="justify-center gap-5 mt-5 grid-wrapper md:flex md:mt-10">
          <% symbols_data.drop(3).each do |symbol| %>
            <div
              class="card md:w-[400px] md:h-[255px] md:first:mr-5 first:mb-5 md:first:mb-0 symbol-card p-6 text-center flex justify-center items-center flex-col gap-5 bg-[#F0F4F7] rounded cursor-pointer md:hover:bg-primary md:hover:scale-105 hover:text-white transition-all">
              <div class="w-16 h-16 img-wrapper">
                <%= image_tag(symbol[:icon], alt: symbol[:alt], loading: "lazy" , class: "h-full w-full object-contain"
                  ) %>
              </div>
              <h4 class="text-lg font-semibold text-black text-opacity-80">
                <%= symbol[:subHeading] %>
              </h4>
              <p class="text-sm text-black text-opacity-70 md:text-base">
                <%= symbol[:description] %>
              </p>
            </div>
            <% end %>
        </div>
      </div>
    </div>
  </section>

  <!-- events section -->
  <section class="mt-12 events-section md:mt-16 lg:mt-24">
    <div class="container p-3 mx-auto md:p-0">
      <div class="mb-4 md:mb-8">
        <h2 class="text-lg font-bold text-black md:text-2xl lg:text-3xl text-opacity-80">Upcoming Events</h2>
      </div>

      <div class="flex flex-col-reverse gap-8 md:flex-row events-tabs">
        <div class="tab-panels-container md:1/2 lg:w-8/12">

          <% event_tab_panel.each do |e| %>
            <div id="<%= e[:id] %>" class="flex-1 border rounded p-3 md:px-5 md:py-8 tab-panel md:h-[295px]">
              <div class="flex-wrap event-detail lg:flex">
                <div class="event-description lg:w-1/2 md:py-3 lg:py-0">
                  <h4 class="mt-4 text-base font-bold text-black md:text-xl text-opacity-80 md:mt-0">
                    <%= e[:title] %>
                  </h4>
                  <p class="mt-4 text-sm text-black text-opacity-70 md:text-base">
                    <%= e[:date_time] %>
                  </p>
                  <p class="mt-4 text-sm font-light text-black text-opacity-70 md:text-base">
                    <%= e[:description] %>
                  </p>
                </div>
              </div>
            </div>
            <% end %>
        </div>

        <div class="mt-8 lg:w-4/12 md:mt-0">
          <% event_tab_button.each do |e| %>
            <div id="<%= e[:id] %>" class="p-3 mt-8 border rounded cursor-pointer md:p-6 lg:p-3 tab-button">
              <div class="flex gap-5">
                <div
                  class="rounded bg-[#F0F4F7] py-2 px-4 text-black text-opacity-70 text-xs md:text-sm self-start date-time">
                  <span class="whitespace-nowrap date">
                    <%= e[:date] %>
                  </span>
                  <p class="text-xs text-black md:text-sm text-opacity-70">
                    <%= e[:day] %>
                  </p>
                </div>
                <div>
                  <h4 class="text-base font-bold text-black lg:text-lg text-opacity-80">
                    <%= e[:title] %>
                  </h4>
                  <p class="text-sm text-black text-opacity-70 tab-button-description">
                    <%= e[:name_time] %>
                  </p>
                </div>
              </div>
            </div>
            <% end %>
        </div>
      </div>
    </div>
  </section>

  <!-- mixlr podcast section -->
  <section class="mt-10 mixlr md:mt-16">
    <div class="container p-3 mx-auto md:p-0">
      <h4 class="text-lg font-semibold text-black text-opacity-80">To listen to our MIXLR broadcasts, Please click play
        below</h4>
      <div class="my-4 h-[400px] md:h-[500px]">
        <iframe class="w-full h-full" src="https://edenfoundation.mixlr.com" frameborder="0"></iframe>
      </div>
      <p class="font-light text-black text-opacity-80">If you are having an issues then <a
          href="http://mixlr.com/the-eden-foundation" class="underline text-primary">click
          here to listen via the Mixlr website</a></p>
    </div>
  </section>

  <!-- namaz calender section on desktop -->
  <section id="prayer-timetable-desktop" class="hidden mt-12 namaz-calender-section md:mt-20 lg:mt-24 md:block">
    <div class="container p-3 mx-auto md:p-0">
      <div class="text-center">
        <h2 class="font-bold text-center text-black md:text-2xl lg:text-3xl text-opacity-80">
          TEF Daily Prayer Times</h2>
        <h6 class="mt-4 font-bold text-center text-black md:text-lg text-opacity-70">
          <%= Time.now.strftime("%A %B %d, %Y") %>
            <span class="text-primary">
              (<%= @hijri_current_date %>)
            </span>
        </h6>
      </div>

      <div class="gap-8 mt-8 md:flex md:mt-16">
        <div class="md:w-[1000px] md-flex mx-auto">
          <div class="mt-5">
            <div class="p-4 border rounded md:p-6">
              <div class="p-4 rounded bg-primary">
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-3">
                    <div class="flex items-center justify-center w-5 h-5 bg-white rounded-full">
                      <span class="inline-block w-2 h-2 rounded-full bg-primary"></span>
                    </div>
                    <p class="font-semibold text-white md:text-lg">Suhur End</p>
                  </div>
                  <p class="font-semibold text-white md:text-lg">
                    <%= @suhur_end %>
                  </p>
                </div>
              </div>
              <div class="p-4 mt-4 rounded bg-primary">
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-3">
                    <div class="flex items-center justify-center w-5 h-5 bg-white rounded-full">
                      <span class="inline-block w-2 h-2 rounded-full bg-primary"></span>
                    </div>
                    <p class="font-semibold text-white md:text-lg">Sun Rise</p>
                  </div>
                  <p class="font-semibold text-white md:text-lg">
                    <%= @sunrise %>
                  </p>
                </div>
              </div>
            </div>
          </div>

          <div class="p-4 mt-5 border rounded md:p-6">
            <div
              class="flex items-center justify-between p-2 font-semibold border rounded cursor-pointer salah-heading text-primary md:px-6">
              <p class="text-start">SALAH</p>
              <p class="text-center">START</p>
              <div class="text-center">
                <p class="capitalize">LINDLEY</p>
                <p>JAMAAT</p>
              </div>
              <div class="text-center">
                <p class="capitalize">HIGHFIELDS</p>
                <p>JAMAAT</p>
              </div>
            </div>
            <div class="namaz-timings-wrapper">
              <div
                class="grid grid-cols-4 p-4 mt-4 text-sm font-semibold border rounded cursor-pointer salah-calander-row md:p-6 md:text-base">
                <div class="flex items-center salah-type">
                  <p class="text-black text-opacity-80">
                  <h2>Fajr Start</h2>
                  </p>
                </div>
                <div class="starting-time">
                  <p class="text-black text-opacity-80 pl-[42px]">
                    <%= @fajr_start %>
                  </p>
                </div>
                <div class="text-right ending-time">
                  <p class="pr-5 text-center text-black text-opacity-80">
                    <%= @fajr_end %>
                  </p>
                </div>
                <div class="ending-time">
                  <p class="pr-8 text-black text-opacity-80 text-end">
                    <%= @fajr_end %>
                  </p>
                </div>
              </div>
              <div
                class="grid grid-cols-4 p-4 mt-4 text-sm font-semibold border rounded cursor-pointer salah-calander-row md:p-6 md:text-base">
                <div class="flex items-center salah-type">
                  <p class="text-black text-opacity-80">
                  <h2>Zuhr</h2>
                  </p>
                </div>
                <div class="starting-time">
                  <p class="text-black text-opacity-80 pl-[42px]">
                    <%= @zuhr_start %>
                  </p>
                </div>
                <div class="text-right ending-time">
                  <p class="pr-5 text-center text-black text-opacity-80">
                    13:30
                  </p>
                </div>
                <div class="ending-time">
                  <p class="pr-8 text-black text-opacity-80 text-end">
                    13:30
                  </p>
                </div>
              </div>
              <div
                class="grid grid-cols-4 p-4 mt-4 text-sm font-semibold border rounded cursor-pointer salah-calander-row md:p-6 md:text-base">
                <div class="flex items-center salah-type">
                  <p class="text-black text-opacity-80">
                  <h2>Asr</h2>
                  </p>
                </div>
                <div class="starting-time">
                  <p class="text-black text-opacity-80 pl-[42px]">
                    <%= @asr_start %>
                  </p>
                </div>
                <div class="text-right ending-time">
                  <p class="pr-5 text-center text-black text-opacity-80">
                    <%= @asr_end %>
                  </p>
                </div>
                <div class="ending-time">
                  <p class="pr-8 text-black text-opacity-80 text-end">
                    <%= @asr_end %>
                  </p>
                </div>
              </div>

              <div
                class="grid grid-cols-4 p-4 mt-4 text-sm font-semibold border rounded cursor-pointer salah-calander-row md:p-6 md:text-base">
                <div class="flex items-center salah-type">
                  <p class="text-black text-opacity-80">
                  <h2>Maghrib</h2>
                  </p>
                </div>
                <div class="starting-time">
                  <p class="text-black text-opacity-80 pl-[42px]">
                    <%= @maghrib_start %>
                  </p>
                </div>
                <div class="text-right ending-time">
                  <p class="pr-5 text-center text-black text-opacity-80">
                    <%= @maghrib_end %>
                  </p>
                </div>
                <div class="ending-time">
                  <p class="pr-8 text-black text-opacity-80 text-end">
                    <%= @maghrib_end %>
                  </p>
                </div>
              </div>
              <div
                class="grid grid-cols-4 p-4 mt-4 text-sm font-semibold border rounded cursor-pointer salah-calander-row md:p-6 md:text-base">
                <div class="flex items-center salah-type">
                  <p class="text-black text-opacity-80">
                  <h2>Isha</h2>
                  </p>
                </div>
                <div class="starting-time">
                  <p class="text-black text-opacity-80 pl-[42px]">
                    <%= @isha_start %>
                  </p>
                </div>
                <div class="text-right ending-time">
                  <p class="pr-5 text-center text-black text-opacity-80">
                    <%= @isha_end %>
                  </p>
                </div>
                <div class="ending-time">
                  <p class="pr-8 text-black text-opacity-80 text-end">
                    <%= @isha_end %>
                  </p>
                </div>
              </div>
            </div>
          </div>
          <div class="p-4 mt-8 border rounded download">
            <a data-turbo="false" href="<%= prayer_timetable_path %>"
              class="inline-block w-full px-8 py-4 text-center text-white rounded bg-primary">
              Download Ramadhan Timetable
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    var tabPanels = document.querySelectorAll('.tab-panel');
    tabPanels[0].classList.add('active');

    var tabButtons = document.querySelectorAll('.tab-button');
    tabButtons[0].classList.add('active');

    for (var i = 0; i < tabButtons.length; i++) {
      tabButtons[i].addEventListener('click', function () {
        var tabButtonId = this.getAttribute('id');

        var tabPanelId = tabButtonId.replace('button', 'panel');

        for (var j = 0; j < tabPanels.length; j++) {
          if (tabPanels[j].getAttribute('id') === tabPanelId) {
            tabPanels[j].animate({ opacity: [0, 1], transform: ['scale(0.8)', 'scale(1)'] }, { duration: 500, easing: 'ease-in-out' });
            tabPanels[j].classList.add('active');
          } else {
            tabPanels[j].animate({ opacity: [1, 0], transform: ['scale(1)', 'scale(0.8)'] }, { duration: 500, easing: 'ease-in-out' });
            tabPanels[j].classList.remove('active');
          }
        }

        for (var k = 0; k < tabButtons.length; k++) {
          if (tabButtons[k].getAttribute('id') === tabButtonId) {
            tabButtons[k].classList.add('active');
          } else {
            tabButtons[k].classList.remove('active');
          }
        }
      });
    }
    $(".slider").not('.slick-initialized').slick()

    $(".slick-posters-mobile").not('.slick-initialized').slick({
      dots: true,
      infinite: false,
      speed: 300,
      slidesToShow: 1,
      autoplay: true,
      autoplaySpeed: 3000,
      prevArrow: '<button class="slide-arrow prev-arrow"><span class="fa-solid fa-arrow-left"></span></button>',
      nextArrow: '<button class="slide-arrow next-arrow"><span class="fa-solid fa-arrow-right"></span></button>'
    });

    $(".slick-posters-desktop").not('.slick-initialized').slick({
      dots: true,
      infinite: false,
      speed: 300,
      slidesToShow: 1,
      autoplay: true,
      autoplaySpeed: 3000,
      prevArrow: '<button class="slide-arrow prev-arrow"><span class="fa-solid fa-arrow-left"></span></button>',
      nextArrow: '<button class="slide-arrow next-arrow"><span class="fa-solid fa-arrow-right"></span></button>'
    });

    const showSalahBtn = document.querySelector('.show-salahtimetable-btn');
    const namazSection = document.querySelector('.namaz');
    let isSectionVisible = false;

    showSalahBtn.addEventListener('click', () => {
      if (!isSectionVisible) {
        namazSection.style.display = 'block';
        isSectionVisible = true;
      } else {
        namazSection.style.display = 'none';
        isSectionVisible = false;
      }
    });
  });
</script>